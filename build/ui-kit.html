<!DOCTYPE html>
<html lang="ru">
  <head>
    <title>UI-kit</title>
    <meta charset="utf-8"><meta name="theme-color" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="livehtml-test-Novik">
    <link rel="stylesheet" href="css/style.min.css">
  </head>
  <body>
    <div class="visually-hidden"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol id="icon-burger" viewBox="0 0 12 12">
<path d="M1 11H11H1ZM1 1H11H1ZM1 6H11H1Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
</symbol><symbol id="icon-busket" viewBox="0 0 20 18">
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.51978 14.7978C9.39822 14.7978 10.1106 15.5142 10.1106 16.3971C10.1106 17.2805 9.39814 17.9965 8.51978 17.9965C7.64127 17.9965 6.92886 17.2805 6.92886 16.3971C6.92886 15.5142 7.64127 14.7978 8.51978 14.7978ZM8.18274 16.3971C8.18274 16.0957 8.54661 15.9449 8.75813 16.1577C8.88971 16.2898 8.88971 16.5046 8.75813 16.637C8.5467 16.8493 8.18274 16.6986 8.18274 16.3971Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M15.9438 14.7978C16.8223 14.7978 17.5346 15.5142 17.5346 16.3971C17.5346 17.2805 16.8223 17.9965 15.9438 17.9965C15.0654 17.9965 14.3529 17.2805 14.3529 16.3971C14.3529 15.5142 15.0654 14.7978 15.9438 14.7978ZM15.6066 16.3971C15.6066 16.0957 15.9707 15.9449 16.1822 16.1577C16.3139 16.2898 16.3139 16.5046 16.1822 16.637C15.9707 16.8493 15.6066 16.6986 15.6066 16.3971Z" fill="black"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M14.1481 11.295C16.1919 11.0262 17.8775 9.64193 18.5479 7.72629C19.3945 5.72406 18.9065 4.7771 18.3247 4.50945L12.0395 3.69299L3.80859 2.48555L3.03994 1.92614C3.14797 1.49008 3.05694 1.0375 2.82289 0.686854C2.34838 -0.0236094 1.3906 -0.214347 0.683292 0.263003C-0.0235096 0.740014 -0.213242 1.70306 0.261674 2.41411C0.702902 3.07495 1.56851 3.29518 2.26843 2.91833L3.05302 3.48936L6.28802 11.4955C6.18016 11.6198 6.08814 11.7612 6.01414 11.9184C5.45258 13.1138 6.3336 14.4695 7.6406 14.4695H17.4641C17.8103 14.4695 18.0909 14.1874 18.0909 13.8392C18.0909 13.4912 17.8103 13.209 17.4641 13.209H7.6406C7.44023 13.209 7.27967 13.123 7.17423 12.9541C6.98123 12.6447 7.1542 12.2504 7.49127 12.1705L14.1481 11.295ZM12.3563 5.02262L8.93713 4.50945L9.55677 6.65928L12.7097 6.7474L12.5676 5.92642C12.5676 5.92642 12.4457 5.35253 12.3563 5.02262ZM1.78481 1.38611C1.64595 1.1781 1.3083 1.22983 1.25685 1.49311C1.20472 1.76034 1.49845 1.93415 1.70587 1.7943C1.83769 1.70533 1.8728 1.51805 1.78481 1.38611ZM8.77594 10.7381C8.98726 10.7086 9.19792 10.6792 9.40668 10.6516L8.61072 7.88922L6.15467 7.82056L7.40436 10.9131C7.85673 10.8664 8.31786 10.802 8.77577 10.7381H8.77579L8.77594 10.7381ZM9.92174 7.92578L10.6601 10.487L13.2967 10.1402L12.928 8.00978L9.92174 7.92578ZM5.64112 6.54969L8.24549 6.62246L7.5791 4.3102L4.55713 3.86671L5.64112 6.54969ZM13.7518 5.16291L13.9557 6.7474C13.9557 6.7474 16.1241 6.88953 16.8433 6.88953C17.1975 6.44348 17.5969 5.52118 16.7467 5.44348C16.4962 5.42058 16.1893 5.39559 15.8645 5.36911C15.0867 5.30572 14.2061 5.23396 13.7518 5.16291ZM14.533 9.94057L14.1481 8.00978L16.9399 8.06494C16.3889 8.89405 15.5182 9.67571 14.533 9.94057Z" fill="black"/>
</symbol><symbol id="icon-close" viewBox="0 0 12 12">
<path d="M1.09961 10.9493L10.9991 1.0498L1.09961 10.9493ZM1.09961 1.0498L10.9991 10.9493L1.09961 1.0498Z" stroke="#222222" stroke-linecap="round" stroke-linejoin="round"/>
</symbol><symbol id="icon-scale" viewBox="0 0 20 18">
<path fill-rule="evenodd" clip-rule="evenodd" d="M18.4726 6.49291H18.2648L16.138 1.32238C16.058 1.12767 15.8641 1 15.6485 1C15.5799 1 15.5137 1.01295 15.4526 1.03673L11.8067 2.45459C11.5018 2.04086 11.0507 1.73571 10.5273 1.61124C10.0773 1.5277 9.6367 1.57643 9.47266 1.61124C8.50133 1.84215 7.77813 2.69524 7.77813 3.71006C7.77813 3.81303 7.78611 3.91426 7.80052 4.01348L4.15568 5.43096L4.15554 5.4311C4.02426 5.48238 3.91659 5.58385 3.86193 5.7166L1.73512 10.8871H1.52734C1.23607 10.8871 1 11.1168 1 11.4C1 12.8943 2.2501 14.11 3.78668 14.11H4.91648C6.45305 14.11 7.70317 12.8943 7.70317 11.4C7.70317 11.1168 7.4671 10.8871 7.17583 10.8871H6.96791L5.03706 6.19284L8.19329 4.96539C8.4983 5.37913 8.94929 5.68429 9.47266 5.8086V13.9379H8.87033C7.33375 13.9379 6.09864 14.9904 6.09864 16.4849C6.09864 16.7682 6.33482 16.9977 6.62598 16.9977H13.4043C13.6954 16.9977 13.9316 16.8006 13.9316 16.6468V16.4844C13.9316 14.9904 12.6662 13.9379 11.1296 13.9379H10.5273V5.8086C11.4986 5.57783 12.2218 4.72474 12.2218 3.71006C12.2218 3.60697 12.2139 3.50574 12.1996 3.40651L14.7018 2.43336L13.0321 6.49291H12.8241C12.533 6.49291 12.2968 6.72248 12.2968 7.00573C12.2968 8.49999 13.5469 9.71568 15.0836 9.71568H16.2133C17.7498 9.71568 19 8.49999 19 7.00573C19 6.72248 18.7639 6.49291 18.4726 6.49291ZM3.78668 13.0843H4.91648C5.68745 13.0843 6.34252 12.5918 6.56622 11.9133C6.56545 11.9133 6.56474 11.9131 6.564 11.913C6.5633 11.9129 6.56256 11.9128 6.56182 11.9128H2.13681C2.36038 12.5916 3.01544 13.0843 3.78668 13.0843ZM2.87111 10.8871H5.83205L4.35151 7.28792L2.87111 10.8871ZM7.23531 15.9721H12.7949C12.5715 15.2934 11.901 14.9635 11.1298 14.9635H8.87033C8.09893 14.9635 7.45887 15.2934 7.23531 15.9721ZM8.83281 3.70993C8.83281 4.33586 9.35647 4.84494 9.99997 4.84494C10.6436 4.84494 11.1672 4.33586 11.1672 3.70993C11.1672 3.08413 10.6435 2.57492 9.99997 2.57492C9.35647 2.57492 8.83281 3.08413 8.83281 3.70993ZM17.1288 6.49291L15.6485 2.89369L14.1679 6.49291H17.1288ZM15.0836 8.69004H16.2133C16.9844 8.69004 17.6393 8.19749 17.863 7.51896C17.8616 7.51882 17.8601 7.51869 17.8586 7.51855H13.4336C13.6572 8.19725 14.3124 8.69004 15.0836 8.69004Z" fill="black"/>
</symbol><symbol id="icon-search" viewBox="0 0 20 19">
<path d="M19.534 16.0392L14.9992 11.5044C15.7061 10.3441 16.079 9.01112 16.0768 7.6524C16.0768 3.552 12.5236 9.70335e-08 8.4232 9.70335e-08C7.44833 -0.000157535 6.48297 0.191742 5.58228 0.564737C4.68158 0.937731 3.86319 1.48451 3.17385 2.17385C2.48451 2.86319 1.93773 3.68158 1.56474 4.58228C1.19174 5.48297 0.999842 6.44833 1 7.4232C1 11.5224 4.5532 15.0756 8.6524 15.0756C9.96634 15.0768 11.2568 14.7271 12.3904 14.0628L16.9492 18.624C17.1636 18.8378 17.454 18.9579 17.7568 18.9579C18.0596 18.9579 18.35 18.8378 18.5644 18.624L19.696 17.4924C20.1412 17.0472 19.9792 16.4844 19.534 16.0392ZM3.2848 7.4232C3.28464 6.74831 3.41743 6.08001 3.67559 5.45645C3.93375 4.83289 4.31222 4.2663 4.78938 3.78903C5.26654 3.31176 5.83304 2.93316 6.45654 2.67485C7.08004 2.41655 7.74831 2.2836 8.4232 2.2836C11.2624 2.2836 13.792 4.812 13.792 7.6524C13.7917 9.01541 13.2501 10.3225 12.2863 11.2863C11.3225 12.2501 10.0154 12.7917 8.6524 12.792C5.8132 12.7908 3.2848 10.2612 3.2848 7.4232V7.4232Z" fill="currentColor"/>
</symbol><symbol id="icon-star" viewBox="0 0 20 18">
<path d="M6.25159 10.9387L5.5125 15.4695C5.45359 15.8294 5.838 16.0995 6.15592 15.9227L10.0001 13.7982L13.8443 15.9233C14.1593 16.0983 14.5472 15.8335 14.4877 15.47L13.7486 10.9393L16.8753 7.73446C17.1232 7.48071 16.9808 7.05021 16.6285 6.99654L12.3247 6.33913L10.3956 2.23013C10.2515 1.92329 9.74809 1.92329 9.604 2.23013L7.6755 6.33854L3.37167 6.99596C3.01817 7.05021 2.877 7.48013 3.12492 7.73388L6.25159 10.9387Z" fill="black"/>
</symbol></svg>
    </div>
    <div class="wrapper">
      <style>
        main {
          margin-top: 100px;
        }
        
        main > .container {
          padding-top: 30px;
          padding-bottom: 30px;
        }
        
        .components-backwards {
          color: #ffffff;
          display: inline-block;
        }
        
        .components-backwards span:first-child {
          position: relative;
          top: -3px;
        
          display: inline-block;
          margin-right: 15px;
        
          font-size: 16px;
          line-height: 24px;
          vertical-align: top;
        
          transform: scale(2);
        }
        
        .components-backwards span:last-child {
          font-size: 16px;
          line-height: 24px;
        }
        
        .components-backwards + h1 {
          margin-bottom: 0;
        }
        
        .container > section {
          padding: 70px 0 0 0;
        }
        
        section > h2 {
          margin: 0 0 20px 0;
          padding: 20px 0;
          position: relative;
          color: #ffffff;
        }
        
        section > h2::before {
          content: "";
          position: absolute;
          height: 100%;
          width: 100vw;
          left: 50%;
          top: 0;
          transform: translateX(-50%);
          background-color: #2c39f2;
          z-index: -1;
        }
        
        .header-ui {
          background-color: #2c39f2;
          padding: 20px 0;
          position: fixed;
          width: 100vw;
          z-index: 99;
          box-shadow: 0 0 3px 1px #000000;
        }
        
        .header-ui__nav {
          display: grid;
          grid-template-columns: max-content 1fr;
          gap: 20px 80px;
        }
        
        .header-ui__inner-list {
          margin: 0;
          padding: 0;
          list-style: none;
          display: flex;
          flex-wrap: wrap;
          gap: 10px 30px;
        }
        
        .header-ui__inner-link {
          color: #ffffff;
          transition: color 0.3s ease;
        }
        
        .header-ui__inner-link:hover,
        .header-ui__inner-link.is-active {
          color: #ff1553;
        }
        
        .header-ui__inner-link.is-inactive {
          color: #ffffff;
          pointer-events: none;
        }
        
      </style>
      <header class="header-ui">
        <nav class="header-ui__nav container"><a class="components-backwards" href="sitemap.html"><span>&larr;</span><span>вернуться на разводящую</span></a>
          <ul class="header-ui__inner-list">
            <li class="header-ui__inner-item"><a class="header-ui__inner-link" href="#modals" data-navigation-link>Modals</a></li>
            <li class="header-ui__inner-item"><a class="header-ui__inner-link" href="#buttons" data-navigation-link>Buttons</a></li>
            <li class="header-ui__inner-item"><a class="header-ui__inner-link" href="#form-elements" data-navigation-link>Form elements</a></li>
          </ul>
        </nav>
      </header>
      <main>
        <div class="container">
          <h1>UI-kit</h1>
          <section id="modals">
            <h2>Modals</h2>
            <p>
              <button class="btn" type="button" data-open-modal="feedback">modal-feedback</button>
            </p>
            <p>
              <button class="btn" type="button" data-open-modal="success">modal-success</button>
            </p>
          </section>
          <section id="buttons">
            <h2>Buttons</h2>
            <a class="btn" href="#">Текст</a>
            <p>Пример вызова</p><code>
              <pre>+btn({text: "Текст", href: "#"})</pre></code>
            <a class="btn btn--red" href="#" target="_blank" rel="nofollow noopener noreferrer" aria-label="Просто ссылка">Текст</a>
            <p>Пример вызова</p><code>
              <pre>+btn({text: "Я красная ссылка", href: "#", isExternal: true})(aria-label="Просто ссылка").btn--red</pre></code>
            <button class="btn" type="button" disabled>Текст</button>
            <p>Пример вызова</p><code>
              <pre>+btn({text: "Текст"})(disabled)</pre></code>
          </section>
          <section id="form-elements">
            <h2>Form elements</h2>
            <div data-validate>
              <form method="post">
                <div class="custom-input" data-validate-type="text" data-limitations="name">
                  <label><span class="custom-input__label">Введите ваше имя</span>
                    <input type="text" name="user-name" minlength="2">
                  </label>
                  <div class="custom-input__error">Не корректное имя</div>
                </div>
                <p>Пример вызова</p><code>
                  <pre>+custom-input({inputLabel: "Введите ваше имя", inputError: "Не корректное имя", inputName: "user-name", inputMinLength: "2"})(data-validate-type="text", data-limitations="letters")</pre></code>
                <div class="custom-input" data-validate-type="phone">
                  <label><span class="custom-input__label">Введите ваш телефон</span>
                    <input type="tel" name="user-phone">
                  </label>
                  <div class="custom-input__error">Не корректный телефон</div>
                </div>
                <p>Пример вызова</p><code>
                  <pre>+custom-input({inputLabel: "Введите ваш телефон", inputError: "Не корректный телефон", inputName: "user-phone"})(data-validate-type="phone")</pre></code>
                <div class="custom-input" data-validate-type="email">
                  <label><span class="custom-input__label">Введите ваш email</span>
                    <input type="email" name="user-email">
                  </label>
                  <div class="custom-input__error">Не корректный email</div>
                </div>
                <p>Пример вызова</p><code>
                  <pre>+custom-input({inputLabel: "Введите ваш email", inputError: "Не корректный email", inputName: "user-email"})(data-validate-type="email")</pre></code>
                <div class="custom-textarea">
                  <label><span class="custom-textarea__label">Расскажите о себе</span>
                    <textarea name="user-info"></textarea>
                  </label>
                </div>
                <p>Пример вызова</p><code>
                  <pre>+custom-textarea({inputLabel: "Расскажите о себе", inputName: "user-info"})</pre></code>
                <div class="custom-select" data-select data-validate-type="select" data-name="some-name" data-id="id-example"><span class="custom-select__error">Выберите тему обращения</span>
                  <button class="custom-select__button" type="button" aria-label="Выберите одну из опций"><span class="custom-select__text"></span><span class="custom-select__icon"></span></button>
                  <ul class="custom-select__list" role="listbox">
                    <li class="custom-select__item" tabindex="0" data-select-value="id-1" aria-selected="true" role="option">Тема 1</li>
                    <li class="custom-select__item" tabindex="0" data-select-value="id-2" aria-selected="false" role="option">Тема 2</li>
                    <li class="custom-select__item" tabindex="0" data-select-value="id-3" aria-selected="false" role="option">Тема 3</li>
                    <li class="custom-select__item" tabindex="0" data-select-value="id-4" aria-selected="false" role="option">Тема 4</li>
                    <li class="custom-select__item" tabindex="0" data-select-value="id-5" aria-selected="false" role="option">Тема 5</li>
                    <li class="custom-select__item" tabindex="0" data-select-value="id-6" aria-selected="false" role="option">Тема 6</li>
                  </ul>
                </div><code>
                  <pre></pre>+custom-select({error: "Выберите тему обращения", optionsList: [{text: "Тема 1", value: "id-1"}, {text:
                  "Тема 2", value: "id-2"}, {text: "Тема 3", value: "id-3"}, {text: "Тема 4", value: "id-4"}, {text: "Тема 5",
                  value: "id-5"}, {text: "Тема 6", value: "id-6"}]})(data-select, data-validate-type="select", data-name="some-name",
                  data-id="id-example").custom-select</code>
                <div class="custom-toggle custom-toggle--checkbox" data-validate-type="checkbox">
                  <label>
                    <input type="checkbox" name="user-agreement" checked><span class="custom-toggle__icon"></span><span class="custom-toggle__label">Подтвердите своё согласие</span>
                  </label>
                  <div class="custom-toggle__error">Согласие является обязательным</div>
                </div>
                <p>Пример вызова</p><code>
                  <pre>+custom-toggle({inputLabel: "Подтвердите своё согласие", inputError: "Согласие является обязательным", inputName: "user-agreement", inputChecked: true})(data-validate-type="checkbox").custom-toggle--checkbox</pre></code>
                <button class="btn" type="reset">Сбросить форму</button>
                <button class="btn" type="submit">Отправить форму</button>
              </form>
            </div>
          </section>
        </div>
      </main>
      <script>const MoveTo = (() => {
  /**
  * Defaults
  * @type {object}
  */
  const defaults = {
    tolerance: 0,
    duration: 800,
    easing: 'easeOutQuart',
    container: window,
    callback() {},
  };

  /**
  * easeOutQuart Easing Function
  * @param  {number} t - current time
  * @param  {number} b - start value
  * @param  {number} c - change in value
  * @param  {number} d - duration
  * @return {number} - calculated value
  */
  function easeOutQuart(t, b, c, d) {
    t /= d;
    t--;
    return -c * (t * t * t * t - 1) + b;
  }

  /**
  * Merge two object
  *
  * @param  {object} obj1
  * @param  {object} obj2
  * @return {object} merged object
  */
  function mergeObject(obj1, obj2) {
    const obj3 = {};
    Object.keys(obj1).forEach((propertyName) => {
      obj3[propertyName] = obj1[propertyName];
    });

    Object.keys(obj2).forEach((propertyName) => {
      obj3[propertyName] = obj2[propertyName];
    });
    return obj3;
  }

  /**
  * Converts camel case to kebab case
  * @param  {string} val the value to be converted
  * @return {string} the converted value
  */
  function kebabCase(val) {
    return val.replace(/([A-Z])/g, function ($1) {
      return '-' + $1.toLowerCase();
    });
  }

  /**
  * Count a number of item scrolled top
  * @param  {Window|HTMLElement} container
  * @return {number}
  */
  function countScrollTop(container) {
    if (container instanceof HTMLElement) {
      return container.scrollTop;
    }
    return container.pageYOffset;
  }

  /**
  * MoveTo Constructor
  * @param {object} options Options
  * @param {object} easeFunctions Custom ease functions
  */
  // eslint-disable-next-line no-shadow
  function MoveTo(options = {}, easeFunctions = {}) {
    this.options = mergeObject(defaults, options);
    this.easeFunctions = mergeObject({easeOutQuart}, easeFunctions);
  }

  /**
  * Register a dom element as trigger
  * @param  {HTMLElement} dom Dom trigger element
  * @param  {function} callback Callback function
  * @return {function|void} unregister function
  */
  MoveTo.prototype.registerTrigger = function (dom, callback) {
    if (!dom) {
      return;
    }

    const href = dom.getAttribute('href') || dom.getAttribute('data-target');
    // The element to be scrolled
    const target = (href && href !== '#')
      ? document.getElementById(href.substring(1))
      : document.body;
    const options = mergeObject(this.options, _getOptionsFromTriggerDom(dom, this.options));

    if (typeof callback === 'function') {
      options.callback = callback;
    }

    const listener = (e) => {
      e.preventDefault();
      this.move(target, options);
    };

    dom.addEventListener('click', listener, false);

    // eslint-disable-next-line consistent-return
    return () => dom.removeEventListener('click', listener, false);
  };

  /**
  * Move
  * Scrolls to given element by using easeOutQuart function
  * @param  {HTMLElement|number} target Target element to be scrolled or target position
  * @param  {object} options Custom options
  */
  MoveTo.prototype.move = function (target, options = {}) {
    if (target !== 0 && !target) {
      return;
    }

    options = mergeObject(this.options, options);

    let distance = typeof target === 'number' ? target : target.getBoundingClientRect().top;
    const from = countScrollTop(options.container);
    let startTime = null;
    let lastYOffset;
    distance -= options.tolerance;

    // rAF loop
    /* eslint-disable-next-line */
    const loop = (currentTime) => {
      const currentYOffset = countScrollTop(this.options.container);

      if (!startTime) {
        // To starts time from 1, we subtracted 1 from current time
        // If time starts from 1 The first loop will not do anything,
        // because easing value will be zero
        startTime = currentTime - 1;
      }

      const timeElapsed = currentTime - startTime;

      if (lastYOffset) {
        if (
          (distance > 0 && lastYOffset > currentYOffset) ||
          (distance < 0 && lastYOffset < currentYOffset)
        ) {
          return options.callback(target);
        }
      }
      lastYOffset = currentYOffset;

      const val = this.easeFunctions[options.easing](timeElapsed, from, distance, options.duration);

      options.container.scroll(0, val);

      if (timeElapsed < options.duration) {
        window.requestAnimationFrame(loop);
      } else {
        options.container.scroll(0, distance + from);
        options.callback(target);
      }
    };

    window.requestAnimationFrame(loop);
  };

  /**
  * Adds custom ease function
  * @param {string}   name Ease function name
  * @param {function} fn   Ease function
  */
  MoveTo.prototype.addEaseFunction = function (name, fn) {
    this.easeFunctions[name] = fn;
  };

  /**
  * Returns options which created from trigger dom element
  * @param  {HTMLElement} dom Trigger dom element
  * @param  {object} options The instance's options
  * @return {object} The options which created from trigger dom element
  */
  function _getOptionsFromTriggerDom(dom, options) {
    const domOptions = {};

    Object.keys(options).forEach((key) => {
      const value = dom.getAttribute(`data-mt-${kebabCase(key)}`);
      if (value) {
        domOptions[key] = isNaN(value) ? value : parseInt(value, 10);
      }
    });
    return domOptions;
  }

  return MoveTo;
})();
window.MoveTo = MoveTo;

class NavigationChanger {
  constructor() {
    this._scrollDuration = 1000;
    this._currentIndex = 0;
    this._newCurrentIndex = null;
    this._blockShift = 50;
    this._linkElements = document.querySelectorAll('[data-navigation-link]');

    this._moveTo = new window.MoveTo({
      duration: this._scrollDuration,
      easing: 'easeOutQuart',
    });

    this._documentScrollHandler = this._documentScrollHandler.bind(this);
  }

  init() {
    if (!this._linkElements.length) {
      return;
    }
    this._initMoveTo();
    this._changeLinksActiveState();
    document.addEventListener('scroll', this._documentScrollHandler);
  }

  _documentScrollHandler() {
    this._changeLinksActiveState();
  }

  _changeLinksActiveState() {
    this._linkElements.forEach((link, index) => {
      const currentBlockElement = document.querySelector(`${link.getAttribute('href')}`);
      if (!currentBlockElement) {
        // eslint-disable-next-line no-console
        console.error('Блока на который ссылается ссылка не существует! Проверьте соответствие href ссылок с id блоков');
        return;
      }
      if (currentBlockElement.getBoundingClientRect().bottom > this._blockShift && currentBlockElement.getBoundingClientRect().top <= this._blockShift) {
        link.classList.add('is-active');
      } else {
        link.classList.remove('is-active');
      }

      if (document.body.getBoundingClientRect().bottom - window.innerHeight < this._blockShift && currentBlockElement.getBoundingClientRect().top > this._blockShift) {
        this._linkElements[index - 1].classList.remove('is-active');
        link.classList.add('is-active');
      }
    });
  }

  _removeLinkAnimation() {
    this._linkElements.forEach((link, index) => {
      if (index !== this._currentIndex && index !== this._newCurrentIndex) {
        link.classList.add('is-inactive');
      }
    });
  }

  _addLinkAnimation() {
    this._linkElements.forEach((link) => link.classList.remove('is-inactive'));
    this._currentIndex = this._newCurrentIndex;
  }

  _initMoveTo() {
    this._linkElements.forEach((link, index) => {
      link.addEventListener('click', (evt) => {
        evt.preventDefault();
        const target = document.querySelector(`${link.getAttribute('href')}`);
        if (!target) {
          // eslint-disable-next-line no-console
          console.error('Блока на который ссылается ссылка не существует! Проверьте соответствие href ссылок с id блоков');
          return;
        }
        this._newCurrentIndex = index;
        this._moveTo.move(target);
        this._removeLinkAnimation();
        setTimeout(() => {
          this._addLinkAnimation();
        }, this._scrollDuration);
      });
    });
  }
}

const navigationChanger = new NavigationChanger();

navigationChanger.init();

      </script>
    </div>
    <div class="modal modal--preload modal--feedback" data-modal="feedback">
      <div class="modal__wrapper">
        <div class="modal__overlay" data-close-modal></div>
        <div class="modal__content">
          <p class="modal__description">Обычная модалка</p>
          <button class="modal__close-btn" type="button" aria-label="Закрыть попап" data-close-modal>
            <svg width="15" height="15" aria-hidden="true">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
        </div>
      </div>
    </div>
    <div class="modal modal--preload modal--success modal--no-scale modal--fit-content" data-modal="success">
      <div class="modal__wrapper">
        <div class="modal__overlay" data-close-modal></div>
        <div class="modal__content">
          <p class="modal__description">Размер этой модалки зависит от ширины контента,<br>отключена анимация-скейл</p>
          <button class="modal__close-btn" type="button" aria-label="Закрыть попап" data-close-modal>
            <svg width="15" height="15" aria-hidden="true">
              <use xlink:href="#icon-close"></use>
            </svg>
          </button>
        </div>
      </div>
    </div>
    <script src="js/vendor.min.js"></script>
    <script src="js/main.min.js"></script>
  </body>
</html>